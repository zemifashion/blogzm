"undefined"===typeof window.tdcPostSettings&&(window.tdcPostSettings={tdbTemplateType:"all"});if(window.tdbVue&&"undefined"!==typeof window.tdbVue.router){var eventHub=new Vue;Vue.component("image-links",{template:'\n            <a :class="classes" :href="link">{{text}}</a>\n        ',props:{classes:[],link:"",text:""}});new Vue({el:"#tdb-modal",router:window.tdbVue.router})}window.tdbVueManager&&"undefined"!==typeof window.tdbVueManager.router&&new Vue({el:"#tdb-modal-website-manager",router:window.tdbVueManager.router});
(function(){jQuery('#menu-posts-tdb_templates a[href$="post-new.php?post_type=tdb_templates"], #wp-admin-bar-new-tdb_templates a[href$="post-new.php?post_type=tdb_templates"]').hide()})();(function(){jQuery(".post-type-tdb_templates .page-title-action, .td-open-cloud-library").addClass("page-title-action-show").click(function(a){a.preventDefault();window.tdbVue.router.push({name:"loadRoute"})})})();
function tdbCategoryTemplateSelect(){var a=jQuery("#td-panel-categories"),b=a.find('select[name="td_option[tdb_category_template]"]'),c=a.find(".td_panel_box_category_global_settings");""===b.val()?a.find("div[class*='td_panel_box_category_individual_settings_cat_']").each(function(){var a=jQuery(this),b=a.children(".td-box-header").eq(0).data("panel-ajax-params").category_id;b=a.find('select[name="td_category['+b+'][tdb_category_template]"]');""!==b.val()&&("theme_templates"===b.val()?a.removeClass("hide-settings"):
!1===a.hasClass("td-box-close")&&a.addClass("hide-settings"))}):(c.addClass("hide-settings"),a.find("div[class*='td_panel_box_category_individual_settings_cat_']").each(function(){var a=jQuery(this),b=a.children(".td-box-header").eq(0).data("panel-ajax-params").category_id;"theme_templates"===a.find('select[name="td_category['+b+'][tdb_category_template]"]').val()?a.removeClass("hide-settings"):!1===a.hasClass("td-box-close")&&a.addClass("hide-settings")}));!1===b.hasClass("change-event-bound")&&
(b.addClass("change-event-bound"),b.change(function(b){""===jQuery(this).val()?(c.removeClass("hide-settings"),a.find("div[class*='td_panel_box_category_individual_settings_cat_']").each(function(){var a=jQuery(this),b=a.children(".td-box-header").eq(0).data("panel-ajax-params").category_id;b=a.find('select[name="td_category['+b+'][tdb_category_template]"]');"theme_templates"===b.val()?a.removeClass("hide-settings"):""===b.val()&&!1===a.hasClass("td-box-close")&&a.removeClass("hide-settings")})):
(c.addClass("hide-settings"),a.find("div[class*='td_panel_box_category_individual_settings_cat_']").each(function(){var a=jQuery(this),b=a.children(".td-box-header").eq(0).data("panel-ajax-params").category_id;"theme_templates"===a.find('select[name="td_category['+b+'][tdb_category_template]"]').val()?a.removeClass("hide-settings"):!1===a.hasClass("td-box-close")&&a.addClass("hide-settings")}))}));a.find("div[class*='td_panel_box_category_individual_settings_cat_']").each(function(){var a=jQuery(this),
c=a.children(".td-box-header").eq(0).data("panel-ajax-params").category_id,d=a.find('select[name="td_category['+c+'][tdb_category_template]"]');!1===d.hasClass("change-event-bound")&&(d.addClass("change-event-bound"),d.change(function(c){""===d.val()?""===b.val()?a.removeClass("hide-settings"):a.addClass("hide-settings"):"theme_templates"===d.val()?a.removeClass("hide-settings"):!1===a.hasClass("td-box-close")&&a.addClass("hide-settings")}))})}
function tdbHeaderTemplateSelect(){var a=jQuery("#td-panel-header"),b=a.find('select[name^="td_option[tdb_header_template"]');b.length&&(""===b.val()?a.removeClass("hide-settings"):a.addClass("hide-settings"));b.off().on("change",function(){tdbHeaderTemplateSelect()})}
function tdbFooterTemplateSelect(){var a=jQuery("#td-panel-footer"),b=a.find('select[name^="td_option[tdb_footer_template"]');b.length&&(""===b.val()?a.removeClass("hide-settings"):a.addClass("hide-settings"));b.off().on("change",function(){tdbFooterTemplateSelect()})}
jQuery(".tdb-duplicate-template").click(function(a){a.preventDefault();a=jQuery("#the-list");jQuery("tr#post-"+jQuery(this).data("post-id")).addClass("tdb-duplicate-working");a.addClass("tdb-disable-list");tdbApi.run({wpNonce:window.tdb_globals.wpRestNonce,cloudEndPoint:"td-cloud-library/new_template",post:{postId:jQuery(this).data("post-id"),templateType:jQuery(this).data("template-type"),templateName:jQuery(this).data("template-name"),duplicateTemplate:!0},done:function(a){location.reload()},error:function(a){console.log("td-cloud-library/new_template ( duplicate template ) - ERROR",
a)}})});
jQuery(".td-debug-area").length&&(jQuery.ajax({type:"POST",url:td_ajax_url,data:{_nonce:window.tdb_globals.wpRestNonce,action:"tdb_work_cloud",option:"get"},success:function(a,b,c){console.log(a);b="";a=JSON.parse(a);"undefined"!==typeof a[0].checked&&"true"==a[0].checked&&(b="checked");jQuery(".td-debug-area").append('<table id="td-log1-table" class="widefat td-system-status-table td-log-table" cellspacing="0"><tbody><tr><td><p class="td-work-cloud-ip">Enable/disable work-cloud</p></td></tr><tr><td><div class="td-admin-checkbox td-small-checkbox"><input type="checkbox" class="td-work-cloud" '+b+
'></div></td></tr><tr><td><div class="td-work-info"></div></td></tr></tbody></table>')},error:function(a,b,c){}}),jQuery("body").on("click",".td-work-cloud",function(){var a=jQuery(this);jQuery.ajax({type:"POST",url:td_ajax_url,data:{_nonce:window.tdb_globals.wpRestNonce,action:"tdb_work_cloud",option:"set",value:a.is(":checked")},success:function(a,c,e){window.location.reload()},error:function(a,c,e){}})}).on("click",".td-work-cloud-ip",function(){jQuery.ajax({type:"POST",url:td_ajax_url,data:{_nonce:window.tdb_globals.wpRestNonce,
action:"tdb_work_cloud",option:"ip"},success:function(a,b,c){console.log(a);a=JSON.parse(a);"undefined"!==typeof a[0].ip&&jQuery(".td-debug-area .td-work-info").html(a[0].ip)},error:function(a,b,c){}})}));
